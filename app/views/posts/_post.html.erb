<div class='row justify-content-between'>
<% @posts.each do |post| %>

    <div class="card text-white bg-secondary mb-3" style="max-width: 20rem;">
    <div class="card-header"><%= post.post_date %></div>
    <div class="card-body">
        <h4 class="card-title"><%= link_to post.title, campaign_post_path(@campaign, post) %></h4>
        <p class="card-text"> <%= truncate(post.body, length: 200) %>
            <div class='post-meta-details'>
                <small>Created by: <strong><%# post.user.username if post.user%></strong> ,
                    <%= time_ago_in_words(post.created_at) %> ago, <br>
                        Last updated: <%= time_ago_in_words(post.updated_at) %> ago
                </small>
            </div>
        </p>
        <div class='post-actions'>
            <%= link_to 'Show post', campaign_post_path(@campaign, post), class: 'btn btn-sm btn-outline-primary' %>
            <%= link_to 'Edit post', edit_campaign_post_path(@campaign, post), class: 'btn btn-sm btn-outline-info' %> 
            <%= link_to 'Delete post', campaign_post_path(@campaign, post), method: :delete, 
                data: {confirm: 'You are about to delete this post, are you sure?'},
                class: "btn btn-sm btn-outline-danger" %>
        </div>
    </div>
    </div>

<% end %>
</div>